begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_comment
comment|/**  * Licensed to the Apache Software Foundation (ASF) under one  * or more contributor license agreements.  See the NOTICE file  * distributed with this work for additional information  * regarding copyright ownership.  The ASF licenses this file  * to you under the Apache License, Version 2.0 (the  * "License"); you may not use this file except in compliance  * with the License.  You may obtain a copy of the License at  *  *     http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing, software  * distributed under the License is distributed on an "AS IS" BASIS,  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  * See the License for the specific language governing permissions and  * limitations under the License.  */
end_comment

begin_package
DECL|package|org.apache.hadoop.hdfs.protocolPB
package|package
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocolPB
package|;
end_package

begin_import
import|import
name|java
operator|.
name|io
operator|.
name|IOException
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|ArrayList
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Arrays
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|EnumSet
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|HashMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|List
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Map
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|stream
operator|.
name|Collectors
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|classification
operator|.
name|InterfaceAudience
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|classification
operator|.
name|InterfaceStability
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|fs
operator|.
name|BatchedRemoteIterator
operator|.
name|BatchedEntries
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|fs
operator|.
name|permission
operator|.
name|FsCreateModes
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|fs
operator|.
name|permission
operator|.
name|FsPermission
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|AddBlockFlag
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|fs
operator|.
name|ContentSummary
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|fs
operator|.
name|CreateFlag
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|fs
operator|.
name|FsServerDefaults
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|fs
operator|.
name|Options
operator|.
name|Rename
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|fs
operator|.
name|QuotaUsage
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|AddECPolicyResponse
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|BlockStoragePolicy
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|CacheDirectiveEntry
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|CacheDirectiveInfo
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|CachePoolEntry
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|ClientProtocol
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|CorruptFileBlocks
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|DirectoryListing
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|EncryptionZone
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|ErasureCodingPolicy
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|HdfsConstants
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|HdfsFileStatus
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|LastBlockWithStatus
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|LocatedBlock
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|LocatedBlocks
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|RollingUpgradeInfo
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|SnapshotDiffReport
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|SnapshottableDirectoryStatus
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|GetAclStatusRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|GetAclStatusResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|ModifyAclEntriesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|ModifyAclEntriesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|RemoveAclEntriesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|RemoveAclEntriesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|RemoveAclRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|RemoveAclResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|RemoveDefaultAclRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|RemoveDefaultAclResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|SetAclRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|AclProtos
operator|.
name|SetAclResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AbandonBlockRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AbandonBlockResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AddBlockRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AddBlockResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AddCacheDirectiveRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AddCacheDirectiveResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AddCachePoolRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AddCachePoolResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AllowSnapshotRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AllowSnapshotResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AppendRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|AppendResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CheckAccessRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CheckAccessResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CompleteRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CompleteResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ConcatRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ConcatResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CreateRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CreateResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CreateSnapshotRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CreateSnapshotResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CreateSymlinkRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|CreateSymlinkResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|DatanodeStorageReportProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|DeleteRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|DeleteResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|DeleteSnapshotRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|DeleteSnapshotResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|DisallowSnapshotRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|DisallowSnapshotResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|FinalizeUpgradeRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|FinalizeUpgradeResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|FsyncRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|FsyncResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetAdditionalDatanodeRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetAdditionalDatanodeResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetBlockLocationsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetBlockLocationsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetBlockLocationsResponseProto
operator|.
name|Builder
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetContentSummaryRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetContentSummaryResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetCurrentEditLogTxidRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetCurrentEditLogTxidResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetDataEncryptionKeyRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetDataEncryptionKeyResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetDatanodeReportRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetDatanodeReportResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetDatanodeStorageReportRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetDatanodeStorageReportResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetEditsFromTxidRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetEditsFromTxidResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFileInfoRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFileInfoResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFileLinkInfoRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFileLinkInfoResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFsStatsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFsBlocksStatsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFsECBlockGroupsStatsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFsStatusRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFsBlocksStatsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetFsECBlockGroupsStatsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetLinkTargetRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetLinkTargetResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetListingRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetListingResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetPreferredBlockSizeRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetPreferredBlockSizeResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetQuotaUsageRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetQuotaUsageResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetServerDefaultsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetServerDefaultsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetSnapshotDiffReportRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetSnapshotDiffReportResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetSnapshottableDirListingRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetSnapshottableDirListingResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetStoragePoliciesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetStoragePoliciesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetStoragePolicyRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|GetStoragePolicyResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|IsFileClosedRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|IsFileClosedResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ListCacheDirectivesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ListCacheDirectivesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ListCachePoolsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ListCachePoolsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ListCorruptFileBlocksRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ListCorruptFileBlocksResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|MetaSaveRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|MetaSaveResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|MkdirsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|MkdirsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ModifyCacheDirectiveRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ModifyCacheDirectiveResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ModifyCachePoolRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ModifyCachePoolResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RecoverLeaseRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RecoverLeaseResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RefreshNodesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RefreshNodesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RemoveCacheDirectiveRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RemoveCacheDirectiveResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RemoveCachePoolRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RemoveCachePoolResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|UnsetStoragePolicyRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|UnsetStoragePolicyResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|Rename2RequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|Rename2ResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RenameRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RenameResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RenameSnapshotRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RenameSnapshotResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RenewLeaseRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RenewLeaseResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ReportBadBlocksRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|ReportBadBlocksResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RestoreFailedStorageRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RestoreFailedStorageResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RollEditsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RollEditsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RollingUpgradeRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|RollingUpgradeResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SaveNamespaceRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SaveNamespaceResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetBalancerBandwidthRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetBalancerBandwidthResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetOwnerRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetOwnerResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetPermissionRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetPermissionResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetQuotaRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetQuotaResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetReplicationRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetReplicationResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetSafeModeRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetSafeModeResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetStoragePolicyRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetStoragePolicyResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetTimesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|SetTimesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|TruncateRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|TruncateResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|UpdateBlockForPipelineRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|UpdateBlockForPipelineResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|UpdatePipelineRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ClientNamenodeProtocolProtos
operator|.
name|UpdatePipelineResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|EncryptionZonesProtos
operator|.
name|CreateEncryptionZoneResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|EncryptionZonesProtos
operator|.
name|CreateEncryptionZoneRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|EncryptionZonesProtos
operator|.
name|GetEZForPathResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|EncryptionZonesProtos
operator|.
name|GetEZForPathRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|EncryptionZonesProtos
operator|.
name|ListEncryptionZonesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|EncryptionZonesProtos
operator|.
name|ListEncryptionZonesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|AddErasureCodingPoliciesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|AddErasureCodingPoliciesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|GetErasureCodingPoliciesRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|GetErasureCodingPoliciesResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|GetErasureCodingPolicyRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|GetErasureCodingPolicyResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|SetErasureCodingPolicyRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|SetErasureCodingPolicyResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|UnsetErasureCodingPolicyRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|UnsetErasureCodingPolicyResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|GetErasureCodingCodecsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|ErasureCodingProtos
operator|.
name|GetErasureCodingCodecsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|HdfsProtos
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|HdfsProtos
operator|.
name|BlockStoragePolicyProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|HdfsProtos
operator|.
name|DatanodeIDProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|HdfsProtos
operator|.
name|DatanodeInfoProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|HdfsProtos
operator|.
name|LocatedBlockProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|XAttrProtos
operator|.
name|GetXAttrsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|XAttrProtos
operator|.
name|GetXAttrsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|XAttrProtos
operator|.
name|ListXAttrsRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|XAttrProtos
operator|.
name|ListXAttrsResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|XAttrProtos
operator|.
name|RemoveXAttrRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|XAttrProtos
operator|.
name|RemoveXAttrResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|XAttrProtos
operator|.
name|SetXAttrRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|protocol
operator|.
name|proto
operator|.
name|XAttrProtos
operator|.
name|SetXAttrResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|security
operator|.
name|token
operator|.
name|block
operator|.
name|DataEncryptionKey
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|hdfs
operator|.
name|security
operator|.
name|token
operator|.
name|delegation
operator|.
name|DelegationTokenIdentifier
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|io
operator|.
name|EnumSetWritable
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|io
operator|.
name|Text
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|security
operator|.
name|proto
operator|.
name|SecurityProtos
operator|.
name|CancelDelegationTokenRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|security
operator|.
name|proto
operator|.
name|SecurityProtos
operator|.
name|CancelDelegationTokenResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|security
operator|.
name|proto
operator|.
name|SecurityProtos
operator|.
name|GetDelegationTokenRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|security
operator|.
name|proto
operator|.
name|SecurityProtos
operator|.
name|GetDelegationTokenResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|security
operator|.
name|proto
operator|.
name|SecurityProtos
operator|.
name|RenewDelegationTokenRequestProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|security
operator|.
name|proto
operator|.
name|SecurityProtos
operator|.
name|RenewDelegationTokenResponseProto
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|security
operator|.
name|token
operator|.
name|Token
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|protobuf
operator|.
name|RpcController
import|;
end_import

begin_import
import|import
name|com
operator|.
name|google
operator|.
name|protobuf
operator|.
name|ServiceException
import|;
end_import

begin_comment
comment|/**  * This class is used on the server side. Calls come across the wire for the  * for protocol {@link ClientNamenodeProtocolPB}.  * This class translates the PB data types  * to the native data types used inside the NN as specified in the generic  * ClientProtocol.  */
end_comment

begin_class
annotation|@
name|InterfaceAudience
operator|.
name|Private
annotation|@
name|InterfaceStability
operator|.
name|Stable
DECL|class|ClientNamenodeProtocolServerSideTranslatorPB
specifier|public
class|class
name|ClientNamenodeProtocolServerSideTranslatorPB
implements|implements
name|ClientNamenodeProtocolPB
block|{
DECL|field|server
specifier|final
specifier|private
name|ClientProtocol
name|server
decl_stmt|;
DECL|field|VOID_DELETE_SNAPSHOT_RESPONSE
specifier|static
specifier|final
name|DeleteSnapshotResponseProto
name|VOID_DELETE_SNAPSHOT_RESPONSE
init|=
name|DeleteSnapshotResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_RENAME_SNAPSHOT_RESPONSE
specifier|static
specifier|final
name|RenameSnapshotResponseProto
name|VOID_RENAME_SNAPSHOT_RESPONSE
init|=
name|RenameSnapshotResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_ALLOW_SNAPSHOT_RESPONSE
specifier|static
specifier|final
name|AllowSnapshotResponseProto
name|VOID_ALLOW_SNAPSHOT_RESPONSE
init|=
name|AllowSnapshotResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_DISALLOW_SNAPSHOT_RESPONSE
specifier|static
specifier|final
name|DisallowSnapshotResponseProto
name|VOID_DISALLOW_SNAPSHOT_RESPONSE
init|=
name|DisallowSnapshotResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
specifier|static
specifier|final
name|GetSnapshottableDirListingResponseProto
DECL|field|NULL_GET_SNAPSHOTTABLE_DIR_LISTING_RESPONSE
name|NULL_GET_SNAPSHOTTABLE_DIR_LISTING_RESPONSE
init|=
name|GetSnapshottableDirListingResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_SET_STORAGE_POLICY_RESPONSE
specifier|static
specifier|final
name|SetStoragePolicyResponseProto
name|VOID_SET_STORAGE_POLICY_RESPONSE
init|=
name|SetStoragePolicyResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
specifier|static
specifier|final
name|UnsetStoragePolicyResponseProto
DECL|field|VOID_UNSET_STORAGE_POLICY_RESPONSE
name|VOID_UNSET_STORAGE_POLICY_RESPONSE
init|=
name|UnsetStoragePolicyResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_CREATE_RESPONSE
specifier|private
specifier|static
specifier|final
name|CreateResponseProto
name|VOID_CREATE_RESPONSE
init|=
name|CreateResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_SET_PERM_RESPONSE
specifier|private
specifier|static
specifier|final
name|SetPermissionResponseProto
name|VOID_SET_PERM_RESPONSE
init|=
name|SetPermissionResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_SET_OWNER_RESPONSE
specifier|private
specifier|static
specifier|final
name|SetOwnerResponseProto
name|VOID_SET_OWNER_RESPONSE
init|=
name|SetOwnerResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_ADD_BLOCK_RESPONSE
specifier|private
specifier|static
specifier|final
name|AbandonBlockResponseProto
name|VOID_ADD_BLOCK_RESPONSE
init|=
name|AbandonBlockResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_REP_BAD_BLOCK_RESPONSE
specifier|private
specifier|static
specifier|final
name|ReportBadBlocksResponseProto
name|VOID_REP_BAD_BLOCK_RESPONSE
init|=
name|ReportBadBlocksResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_CONCAT_RESPONSE
specifier|private
specifier|static
specifier|final
name|ConcatResponseProto
name|VOID_CONCAT_RESPONSE
init|=
name|ConcatResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_RENAME2_RESPONSE
specifier|private
specifier|static
specifier|final
name|Rename2ResponseProto
name|VOID_RENAME2_RESPONSE
init|=
name|Rename2ResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_GETLISTING_RESPONSE
specifier|private
specifier|static
specifier|final
name|GetListingResponseProto
name|VOID_GETLISTING_RESPONSE
init|=
name|GetListingResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_RENEWLEASE_RESPONSE
specifier|private
specifier|static
specifier|final
name|RenewLeaseResponseProto
name|VOID_RENEWLEASE_RESPONSE
init|=
name|RenewLeaseResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_REFRESHNODES_RESPONSE
specifier|private
specifier|static
specifier|final
name|RefreshNodesResponseProto
name|VOID_REFRESHNODES_RESPONSE
init|=
name|RefreshNodesResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_FINALIZEUPGRADE_RESPONSE
specifier|private
specifier|static
specifier|final
name|FinalizeUpgradeResponseProto
name|VOID_FINALIZEUPGRADE_RESPONSE
init|=
name|FinalizeUpgradeResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_METASAVE_RESPONSE
specifier|private
specifier|static
specifier|final
name|MetaSaveResponseProto
name|VOID_METASAVE_RESPONSE
init|=
name|MetaSaveResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_GETFILEINFO_RESPONSE
specifier|private
specifier|static
specifier|final
name|GetFileInfoResponseProto
name|VOID_GETFILEINFO_RESPONSE
init|=
name|GetFileInfoResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_GETFILELINKINFO_RESPONSE
specifier|private
specifier|static
specifier|final
name|GetFileLinkInfoResponseProto
name|VOID_GETFILELINKINFO_RESPONSE
init|=
name|GetFileLinkInfoResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_SETQUOTA_RESPONSE
specifier|private
specifier|static
specifier|final
name|SetQuotaResponseProto
name|VOID_SETQUOTA_RESPONSE
init|=
name|SetQuotaResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_FSYNC_RESPONSE
specifier|private
specifier|static
specifier|final
name|FsyncResponseProto
name|VOID_FSYNC_RESPONSE
init|=
name|FsyncResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_SETTIMES_RESPONSE
specifier|private
specifier|static
specifier|final
name|SetTimesResponseProto
name|VOID_SETTIMES_RESPONSE
init|=
name|SetTimesResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
DECL|field|VOID_CREATESYMLINK_RESPONSE
specifier|private
specifier|static
specifier|final
name|CreateSymlinkResponseProto
name|VOID_CREATESYMLINK_RESPONSE
init|=
name|CreateSymlinkResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|UpdatePipelineResponseProto
DECL|field|VOID_UPDATEPIPELINE_RESPONSE
name|VOID_UPDATEPIPELINE_RESPONSE
init|=
name|UpdatePipelineResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|CancelDelegationTokenResponseProto
DECL|field|VOID_CANCELDELEGATIONTOKEN_RESPONSE
name|VOID_CANCELDELEGATIONTOKEN_RESPONSE
init|=
name|CancelDelegationTokenResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|SetBalancerBandwidthResponseProto
DECL|field|VOID_SETBALANCERBANDWIDTH_RESPONSE
name|VOID_SETBALANCERBANDWIDTH_RESPONSE
init|=
name|SetBalancerBandwidthResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|SetAclResponseProto
DECL|field|VOID_SETACL_RESPONSE
name|VOID_SETACL_RESPONSE
init|=
name|SetAclResponseProto
operator|.
name|getDefaultInstance
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|ModifyAclEntriesResponseProto
DECL|field|VOID_MODIFYACLENTRIES_RESPONSE
name|VOID_MODIFYACLENTRIES_RESPONSE
init|=
name|ModifyAclEntriesResponseProto
operator|.
name|getDefaultInstance
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|RemoveAclEntriesResponseProto
DECL|field|VOID_REMOVEACLENTRIES_RESPONSE
name|VOID_REMOVEACLENTRIES_RESPONSE
init|=
name|RemoveAclEntriesResponseProto
operator|.
name|getDefaultInstance
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|RemoveDefaultAclResponseProto
DECL|field|VOID_REMOVEDEFAULTACL_RESPONSE
name|VOID_REMOVEDEFAULTACL_RESPONSE
init|=
name|RemoveDefaultAclResponseProto
operator|.
name|getDefaultInstance
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|RemoveAclResponseProto
DECL|field|VOID_REMOVEACL_RESPONSE
name|VOID_REMOVEACL_RESPONSE
init|=
name|RemoveAclResponseProto
operator|.
name|getDefaultInstance
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|SetXAttrResponseProto
DECL|field|VOID_SETXATTR_RESPONSE
name|VOID_SETXATTR_RESPONSE
init|=
name|SetXAttrResponseProto
operator|.
name|getDefaultInstance
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|RemoveXAttrResponseProto
DECL|field|VOID_REMOVEXATTR_RESPONSE
name|VOID_REMOVEXATTR_RESPONSE
init|=
name|RemoveXAttrResponseProto
operator|.
name|getDefaultInstance
argument_list|()
decl_stmt|;
specifier|private
specifier|static
specifier|final
name|CheckAccessResponseProto
DECL|field|VOID_CHECKACCESS_RESPONSE
name|VOID_CHECKACCESS_RESPONSE
init|=
name|CheckAccessResponseProto
operator|.
name|getDefaultInstance
argument_list|()
decl_stmt|;
comment|/**    * Constructor    *     * @param server - the NN server    * @throws IOException    */
DECL|method|ClientNamenodeProtocolServerSideTranslatorPB (ClientProtocol server)
specifier|public
name|ClientNamenodeProtocolServerSideTranslatorPB
parameter_list|(
name|ClientProtocol
name|server
parameter_list|)
throws|throws
name|IOException
block|{
name|this
operator|.
name|server
operator|=
name|server
expr_stmt|;
block|}
annotation|@
name|Override
DECL|method|getBlockLocations ( RpcController controller, GetBlockLocationsRequestProto req)
specifier|public
name|GetBlockLocationsResponseProto
name|getBlockLocations
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetBlockLocationsRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|LocatedBlocks
name|b
init|=
name|server
operator|.
name|getBlockLocations
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getOffset
argument_list|()
argument_list|,
name|req
operator|.
name|getLength
argument_list|()
argument_list|)
decl_stmt|;
name|Builder
name|builder
init|=
name|GetBlockLocationsResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
if|if
condition|(
name|b
operator|!=
literal|null
condition|)
block|{
name|builder
operator|.
name|setLocations
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|b
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getServerDefaults ( RpcController controller, GetServerDefaultsRequestProto req)
specifier|public
name|GetServerDefaultsResponseProto
name|getServerDefaults
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetServerDefaultsRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|FsServerDefaults
name|result
init|=
name|server
operator|.
name|getServerDefaults
argument_list|()
decl_stmt|;
return|return
name|GetServerDefaultsResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setServerDefaults
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|create (RpcController controller, CreateRequestProto req)
specifier|public
name|CreateResponseProto
name|create
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|CreateRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|FsPermission
name|masked
init|=
name|req
operator|.
name|hasUnmasked
argument_list|()
condition|?
name|FsCreateModes
operator|.
name|create
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getMasked
argument_list|()
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getUnmasked
argument_list|()
argument_list|)
argument_list|)
else|:
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getMasked
argument_list|()
argument_list|)
decl_stmt|;
name|HdfsFileStatus
name|result
init|=
name|server
operator|.
name|create
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|masked
argument_list|,
name|req
operator|.
name|getClientName
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convertCreateFlag
argument_list|(
name|req
operator|.
name|getCreateFlag
argument_list|()
argument_list|)
argument_list|,
name|req
operator|.
name|getCreateParent
argument_list|()
argument_list|,
operator|(
name|short
operator|)
name|req
operator|.
name|getReplication
argument_list|()
argument_list|,
name|req
operator|.
name|getBlockSize
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convertCryptoProtocolVersions
argument_list|(
name|req
operator|.
name|getCryptoProtocolVersionList
argument_list|()
argument_list|)
argument_list|,
name|req
operator|.
name|getEcPolicyName
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|result
operator|!=
literal|null
condition|)
block|{
return|return
name|CreateResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setFs
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
return|return
name|VOID_CREATE_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|append (RpcController controller, AppendRequestProto req)
specifier|public
name|AppendResponseProto
name|append
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|AppendRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|EnumSetWritable
argument_list|<
name|CreateFlag
argument_list|>
name|flags
init|=
name|req
operator|.
name|hasFlag
argument_list|()
condition|?
name|PBHelperClient
operator|.
name|convertCreateFlag
argument_list|(
name|req
operator|.
name|getFlag
argument_list|()
argument_list|)
else|:
operator|new
name|EnumSetWritable
argument_list|<>
argument_list|(
name|EnumSet
operator|.
name|of
argument_list|(
name|CreateFlag
operator|.
name|APPEND
argument_list|)
argument_list|)
decl_stmt|;
name|LastBlockWithStatus
name|result
init|=
name|server
operator|.
name|append
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getClientName
argument_list|()
argument_list|,
name|flags
argument_list|)
decl_stmt|;
name|AppendResponseProto
operator|.
name|Builder
name|builder
init|=
name|AppendResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
if|if
condition|(
name|result
operator|.
name|getLastBlock
argument_list|()
operator|!=
literal|null
condition|)
block|{
name|builder
operator|.
name|setBlock
argument_list|(
name|PBHelperClient
operator|.
name|convertLocatedBlock
argument_list|(
name|result
operator|.
name|getLastBlock
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|result
operator|.
name|getFileStatus
argument_list|()
operator|!=
literal|null
condition|)
block|{
name|builder
operator|.
name|setStat
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
operator|.
name|getFileStatus
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|setReplication (RpcController controller, SetReplicationRequestProto req)
specifier|public
name|SetReplicationResponseProto
name|setReplication
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetReplicationRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|setReplication
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
operator|(
name|short
operator|)
name|req
operator|.
name|getReplication
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|SetReplicationResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|setPermission (RpcController controller, SetPermissionRequestProto req)
specifier|public
name|SetPermissionResponseProto
name|setPermission
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetPermissionRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setPermission
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getPermission
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_SET_PERM_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|setOwner (RpcController controller, SetOwnerRequestProto req)
specifier|public
name|SetOwnerResponseProto
name|setOwner
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetOwnerRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setOwner
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|hasUsername
argument_list|()
condition|?
name|req
operator|.
name|getUsername
argument_list|()
else|:
literal|null
argument_list|,
name|req
operator|.
name|hasGroupname
argument_list|()
condition|?
name|req
operator|.
name|getGroupname
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_SET_OWNER_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|abandonBlock (RpcController controller, AbandonBlockRequestProto req)
specifier|public
name|AbandonBlockResponseProto
name|abandonBlock
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|AbandonBlockRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|abandonBlock
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getB
argument_list|()
argument_list|)
argument_list|,
name|req
operator|.
name|getFileId
argument_list|()
argument_list|,
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getHolder
argument_list|()
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_ADD_BLOCK_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|addBlock (RpcController controller, AddBlockRequestProto req)
specifier|public
name|AddBlockResponseProto
name|addBlock
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|AddBlockRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|List
argument_list|<
name|DatanodeInfoProto
argument_list|>
name|excl
init|=
name|req
operator|.
name|getExcludeNodesList
argument_list|()
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|favor
init|=
name|req
operator|.
name|getFavoredNodesList
argument_list|()
decl_stmt|;
name|EnumSet
argument_list|<
name|AddBlockFlag
argument_list|>
name|flags
init|=
name|PBHelperClient
operator|.
name|convertAddBlockFlags
argument_list|(
name|req
operator|.
name|getFlagsList
argument_list|()
argument_list|)
decl_stmt|;
name|LocatedBlock
name|result
init|=
name|server
operator|.
name|addBlock
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getClientName
argument_list|()
argument_list|,
name|req
operator|.
name|hasPrevious
argument_list|()
condition|?
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getPrevious
argument_list|()
argument_list|)
else|:
literal|null
argument_list|,
operator|(
name|excl
operator|==
literal|null
operator|||
name|excl
operator|.
name|size
argument_list|()
operator|==
literal|0
operator|)
condition|?
literal|null
else|:
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|excl
operator|.
name|toArray
argument_list|(
operator|new
name|DatanodeInfoProto
index|[
name|excl
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|)
argument_list|,
name|req
operator|.
name|getFileId
argument_list|()
argument_list|,
operator|(
name|favor
operator|==
literal|null
operator|||
name|favor
operator|.
name|size
argument_list|()
operator|==
literal|0
operator|)
condition|?
literal|null
else|:
name|favor
operator|.
name|toArray
argument_list|(
operator|new
name|String
index|[
name|favor
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|,
name|flags
argument_list|)
decl_stmt|;
return|return
name|AddBlockResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setBlock
argument_list|(
name|PBHelperClient
operator|.
name|convertLocatedBlock
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getAdditionalDatanode ( RpcController controller, GetAdditionalDatanodeRequestProto req)
specifier|public
name|GetAdditionalDatanodeResponseProto
name|getAdditionalDatanode
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetAdditionalDatanodeRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|List
argument_list|<
name|DatanodeInfoProto
argument_list|>
name|existingList
init|=
name|req
operator|.
name|getExistingsList
argument_list|()
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|existingStorageIDsList
init|=
name|req
operator|.
name|getExistingStorageUuidsList
argument_list|()
decl_stmt|;
name|List
argument_list|<
name|DatanodeInfoProto
argument_list|>
name|excludesList
init|=
name|req
operator|.
name|getExcludesList
argument_list|()
decl_stmt|;
name|LocatedBlock
name|result
init|=
name|server
operator|.
name|getAdditionalDatanode
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getFileId
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getBlk
argument_list|()
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|existingList
operator|.
name|toArray
argument_list|(
operator|new
name|DatanodeInfoProto
index|[
name|existingList
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|)
argument_list|,
name|existingStorageIDsList
operator|.
name|toArray
argument_list|(
operator|new
name|String
index|[
name|existingStorageIDsList
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|excludesList
operator|.
name|toArray
argument_list|(
operator|new
name|DatanodeInfoProto
index|[
name|excludesList
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|)
argument_list|,
name|req
operator|.
name|getNumAdditionalNodes
argument_list|()
argument_list|,
name|req
operator|.
name|getClientName
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|GetAdditionalDatanodeResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setBlock
argument_list|(
name|PBHelperClient
operator|.
name|convertLocatedBlock
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|complete (RpcController controller, CompleteRequestProto req)
specifier|public
name|CompleteResponseProto
name|complete
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|CompleteRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|complete
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getClientName
argument_list|()
argument_list|,
name|req
operator|.
name|hasLast
argument_list|()
condition|?
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getLast
argument_list|()
argument_list|)
else|:
literal|null
argument_list|,
name|req
operator|.
name|hasFileId
argument_list|()
condition|?
name|req
operator|.
name|getFileId
argument_list|()
else|:
name|HdfsConstants
operator|.
name|GRANDFATHER_INODE_ID
argument_list|)
decl_stmt|;
return|return
name|CompleteResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|reportBadBlocks (RpcController controller, ReportBadBlocksRequestProto req)
specifier|public
name|ReportBadBlocksResponseProto
name|reportBadBlocks
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ReportBadBlocksRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|List
argument_list|<
name|LocatedBlockProto
argument_list|>
name|bl
init|=
name|req
operator|.
name|getBlocksList
argument_list|()
decl_stmt|;
name|server
operator|.
name|reportBadBlocks
argument_list|(
name|PBHelperClient
operator|.
name|convertLocatedBlocks
argument_list|(
name|bl
operator|.
name|toArray
argument_list|(
operator|new
name|LocatedBlockProto
index|[
name|bl
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_REP_BAD_BLOCK_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|concat (RpcController controller, ConcatRequestProto req)
specifier|public
name|ConcatResponseProto
name|concat
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ConcatRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|List
argument_list|<
name|String
argument_list|>
name|srcs
init|=
name|req
operator|.
name|getSrcsList
argument_list|()
decl_stmt|;
name|server
operator|.
name|concat
argument_list|(
name|req
operator|.
name|getTrg
argument_list|()
argument_list|,
name|srcs
operator|.
name|toArray
argument_list|(
operator|new
name|String
index|[
name|srcs
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_CONCAT_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|rename (RpcController controller, RenameRequestProto req)
specifier|public
name|RenameResponseProto
name|rename
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RenameRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|rename
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getDst
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|RenameResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|rename2 (RpcController controller, Rename2RequestProto req)
specifier|public
name|Rename2ResponseProto
name|rename2
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|Rename2RequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
comment|// resolve rename options
name|ArrayList
argument_list|<
name|Rename
argument_list|>
name|optionList
init|=
operator|new
name|ArrayList
argument_list|<
name|Rename
argument_list|>
argument_list|()
decl_stmt|;
if|if
condition|(
name|req
operator|.
name|getOverwriteDest
argument_list|()
condition|)
block|{
name|optionList
operator|.
name|add
argument_list|(
name|Rename
operator|.
name|OVERWRITE
argument_list|)
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|req
operator|.
name|hasMoveToTrash
argument_list|()
condition|)
block|{
name|optionList
operator|.
name|add
argument_list|(
name|Rename
operator|.
name|TO_TRASH
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|optionList
operator|.
name|isEmpty
argument_list|()
condition|)
block|{
name|optionList
operator|.
name|add
argument_list|(
name|Rename
operator|.
name|NONE
argument_list|)
expr_stmt|;
block|}
try|try
block|{
name|server
operator|.
name|rename2
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getDst
argument_list|()
argument_list|,
name|optionList
operator|.
name|toArray
argument_list|(
operator|new
name|Rename
index|[
name|optionList
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_RENAME2_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|truncate (RpcController controller, TruncateRequestProto req)
specifier|public
name|TruncateResponseProto
name|truncate
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|TruncateRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|truncate
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getNewLength
argument_list|()
argument_list|,
name|req
operator|.
name|getClientName
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|TruncateResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|delete (RpcController controller, DeleteRequestProto req)
specifier|public
name|DeleteResponseProto
name|delete
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|DeleteRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|delete
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getRecursive
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|DeleteResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|mkdirs (RpcController controller, MkdirsRequestProto req)
specifier|public
name|MkdirsResponseProto
name|mkdirs
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|MkdirsRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|FsPermission
name|masked
init|=
name|req
operator|.
name|hasUnmasked
argument_list|()
condition|?
name|FsCreateModes
operator|.
name|create
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getMasked
argument_list|()
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getUnmasked
argument_list|()
argument_list|)
argument_list|)
else|:
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getMasked
argument_list|()
argument_list|)
decl_stmt|;
name|boolean
name|result
init|=
name|server
operator|.
name|mkdirs
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|masked
argument_list|,
name|req
operator|.
name|getCreateParent
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|MkdirsResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getListing (RpcController controller, GetListingRequestProto req)
specifier|public
name|GetListingResponseProto
name|getListing
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetListingRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|DirectoryListing
name|result
init|=
name|server
operator|.
name|getListing
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getStartAfter
argument_list|()
operator|.
name|toByteArray
argument_list|()
argument_list|,
name|req
operator|.
name|getNeedLocation
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|result
operator|!=
literal|null
condition|)
block|{
return|return
name|GetListingResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setDirList
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
else|else
block|{
return|return
name|VOID_GETLISTING_RESPONSE
return|;
block|}
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|renewLease (RpcController controller, RenewLeaseRequestProto req)
specifier|public
name|RenewLeaseResponseProto
name|renewLease
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RenewLeaseRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|renewLease
argument_list|(
name|req
operator|.
name|getClientName
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_RENEWLEASE_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|recoverLease (RpcController controller, RecoverLeaseRequestProto req)
specifier|public
name|RecoverLeaseResponseProto
name|recoverLease
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RecoverLeaseRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|recoverLease
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getClientName
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|RecoverLeaseResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|restoreFailedStorage ( RpcController controller, RestoreFailedStorageRequestProto req)
specifier|public
name|RestoreFailedStorageResponseProto
name|restoreFailedStorage
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RestoreFailedStorageRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|restoreFailedStorage
argument_list|(
name|req
operator|.
name|getArg
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|RestoreFailedStorageResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getFsStats (RpcController controller, GetFsStatusRequestProto req)
specifier|public
name|GetFsStatsResponseProto
name|getFsStats
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetFsStatusRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
return|return
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|server
operator|.
name|getStats
argument_list|()
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getFsBlocksStats ( RpcController controller, GetFsBlocksStatsRequestProto request)
specifier|public
name|GetFsBlocksStatsResponseProto
name|getFsBlocksStats
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetFsBlocksStatsRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
return|return
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|server
operator|.
name|getBlocksStats
argument_list|()
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getFsECBlockGroupsStats ( RpcController controller, GetFsECBlockGroupsStatsRequestProto request)
specifier|public
name|GetFsECBlockGroupsStatsResponseProto
name|getFsECBlockGroupsStats
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetFsECBlockGroupsStatsRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
return|return
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|server
operator|.
name|getECBlockGroupsStats
argument_list|()
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getDatanodeReport ( RpcController controller, GetDatanodeReportRequestProto req)
specifier|public
name|GetDatanodeReportResponseProto
name|getDatanodeReport
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetDatanodeReportRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|List
argument_list|<
name|?
extends|extends
name|DatanodeInfoProto
argument_list|>
name|result
init|=
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|server
operator|.
name|getDatanodeReport
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getType
argument_list|()
argument_list|)
argument_list|)
argument_list|)
decl_stmt|;
return|return
name|GetDatanodeReportResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|addAllDi
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getDatanodeStorageReport ( RpcController controller, GetDatanodeStorageReportRequestProto req)
specifier|public
name|GetDatanodeStorageReportResponseProto
name|getDatanodeStorageReport
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetDatanodeStorageReportRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|List
argument_list|<
name|DatanodeStorageReportProto
argument_list|>
name|reports
init|=
name|PBHelperClient
operator|.
name|convertDatanodeStorageReports
argument_list|(
name|server
operator|.
name|getDatanodeStorageReport
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getType
argument_list|()
argument_list|)
argument_list|)
argument_list|)
decl_stmt|;
return|return
name|GetDatanodeStorageReportResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|addAllDatanodeStorageReports
argument_list|(
name|reports
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getPreferredBlockSize ( RpcController controller, GetPreferredBlockSizeRequestProto req)
specifier|public
name|GetPreferredBlockSizeResponseProto
name|getPreferredBlockSize
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetPreferredBlockSizeRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|long
name|result
init|=
name|server
operator|.
name|getPreferredBlockSize
argument_list|(
name|req
operator|.
name|getFilename
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|GetPreferredBlockSizeResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setBsize
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|setSafeMode (RpcController controller, SetSafeModeRequestProto req)
specifier|public
name|SetSafeModeResponseProto
name|setSafeMode
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetSafeModeRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|setSafeMode
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getAction
argument_list|()
argument_list|)
argument_list|,
name|req
operator|.
name|getChecked
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|SetSafeModeResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|saveNamespace (RpcController controller, SaveNamespaceRequestProto req)
specifier|public
name|SaveNamespaceResponseProto
name|saveNamespace
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SaveNamespaceRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
specifier|final
name|long
name|timeWindow
init|=
name|req
operator|.
name|hasTimeWindow
argument_list|()
condition|?
name|req
operator|.
name|getTimeWindow
argument_list|()
else|:
literal|0
decl_stmt|;
specifier|final
name|long
name|txGap
init|=
name|req
operator|.
name|hasTxGap
argument_list|()
condition|?
name|req
operator|.
name|getTxGap
argument_list|()
else|:
literal|0
decl_stmt|;
name|boolean
name|saved
init|=
name|server
operator|.
name|saveNamespace
argument_list|(
name|timeWindow
argument_list|,
name|txGap
argument_list|)
decl_stmt|;
return|return
name|SaveNamespaceResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setSaved
argument_list|(
name|saved
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|rollEdits (RpcController controller, RollEditsRequestProto request)
specifier|public
name|RollEditsResponseProto
name|rollEdits
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RollEditsRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|long
name|txid
init|=
name|server
operator|.
name|rollEdits
argument_list|()
decl_stmt|;
return|return
name|RollEditsResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setNewSegmentTxId
argument_list|(
name|txid
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|refreshNodes (RpcController controller, RefreshNodesRequestProto req)
specifier|public
name|RefreshNodesResponseProto
name|refreshNodes
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RefreshNodesRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|refreshNodes
argument_list|()
expr_stmt|;
return|return
name|VOID_REFRESHNODES_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|finalizeUpgrade (RpcController controller, FinalizeUpgradeRequestProto req)
specifier|public
name|FinalizeUpgradeResponseProto
name|finalizeUpgrade
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|FinalizeUpgradeRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|finalizeUpgrade
argument_list|()
expr_stmt|;
return|return
name|VOID_FINALIZEUPGRADE_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|rollingUpgrade (RpcController controller, RollingUpgradeRequestProto req)
specifier|public
name|RollingUpgradeResponseProto
name|rollingUpgrade
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RollingUpgradeRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
specifier|final
name|RollingUpgradeInfo
name|info
init|=
name|server
operator|.
name|rollingUpgrade
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getAction
argument_list|()
argument_list|)
argument_list|)
decl_stmt|;
specifier|final
name|RollingUpgradeResponseProto
operator|.
name|Builder
name|b
init|=
name|RollingUpgradeResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
if|if
condition|(
name|info
operator|!=
literal|null
condition|)
block|{
name|b
operator|.
name|setRollingUpgradeInfo
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|info
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|b
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|listCorruptFileBlocks ( RpcController controller, ListCorruptFileBlocksRequestProto req)
specifier|public
name|ListCorruptFileBlocksResponseProto
name|listCorruptFileBlocks
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ListCorruptFileBlocksRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|CorruptFileBlocks
name|result
init|=
name|server
operator|.
name|listCorruptFileBlocks
argument_list|(
name|req
operator|.
name|getPath
argument_list|()
argument_list|,
name|req
operator|.
name|hasCookie
argument_list|()
condition|?
name|req
operator|.
name|getCookie
argument_list|()
else|:
literal|null
argument_list|)
decl_stmt|;
return|return
name|ListCorruptFileBlocksResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setCorrupt
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|metaSave (RpcController controller, MetaSaveRequestProto req)
specifier|public
name|MetaSaveResponseProto
name|metaSave
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|MetaSaveRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|metaSave
argument_list|(
name|req
operator|.
name|getFilename
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_METASAVE_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getFileInfo (RpcController controller, GetFileInfoRequestProto req)
specifier|public
name|GetFileInfoResponseProto
name|getFileInfo
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetFileInfoRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|HdfsFileStatus
name|result
init|=
name|server
operator|.
name|getFileInfo
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|result
operator|!=
literal|null
condition|)
block|{
return|return
name|GetFileInfoResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setFs
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
return|return
name|VOID_GETFILEINFO_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getFileLinkInfo (RpcController controller, GetFileLinkInfoRequestProto req)
specifier|public
name|GetFileLinkInfoResponseProto
name|getFileLinkInfo
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetFileLinkInfoRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|HdfsFileStatus
name|result
init|=
name|server
operator|.
name|getFileLinkInfo
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|result
operator|!=
literal|null
condition|)
block|{
return|return
name|GetFileLinkInfoResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setFs
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
else|else
block|{
return|return
name|VOID_GETFILELINKINFO_RESPONSE
return|;
block|}
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getContentSummary ( RpcController controller, GetContentSummaryRequestProto req)
specifier|public
name|GetContentSummaryResponseProto
name|getContentSummary
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetContentSummaryRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|ContentSummary
name|result
init|=
name|server
operator|.
name|getContentSummary
argument_list|(
name|req
operator|.
name|getPath
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|GetContentSummaryResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setSummary
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|setQuota (RpcController controller, SetQuotaRequestProto req)
specifier|public
name|SetQuotaResponseProto
name|setQuota
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetQuotaRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setQuota
argument_list|(
name|req
operator|.
name|getPath
argument_list|()
argument_list|,
name|req
operator|.
name|getNamespaceQuota
argument_list|()
argument_list|,
name|req
operator|.
name|getStoragespaceQuota
argument_list|()
argument_list|,
name|req
operator|.
name|hasStorageType
argument_list|()
condition|?
name|PBHelperClient
operator|.
name|convertStorageType
argument_list|(
name|req
operator|.
name|getStorageType
argument_list|()
argument_list|)
else|:
literal|null
argument_list|)
expr_stmt|;
return|return
name|VOID_SETQUOTA_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|fsync (RpcController controller, FsyncRequestProto req)
specifier|public
name|FsyncResponseProto
name|fsync
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|FsyncRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|fsync
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getFileId
argument_list|()
argument_list|,
name|req
operator|.
name|getClient
argument_list|()
argument_list|,
name|req
operator|.
name|getLastBlockLength
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_FSYNC_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|setTimes (RpcController controller, SetTimesRequestProto req)
specifier|public
name|SetTimesResponseProto
name|setTimes
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetTimesRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setTimes
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getMtime
argument_list|()
argument_list|,
name|req
operator|.
name|getAtime
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_SETTIMES_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|createSymlink (RpcController controller, CreateSymlinkRequestProto req)
specifier|public
name|CreateSymlinkResponseProto
name|createSymlink
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|CreateSymlinkRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|createSymlink
argument_list|(
name|req
operator|.
name|getTarget
argument_list|()
argument_list|,
name|req
operator|.
name|getLink
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getDirPerm
argument_list|()
argument_list|)
argument_list|,
name|req
operator|.
name|getCreateParent
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_CREATESYMLINK_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getLinkTarget (RpcController controller, GetLinkTargetRequestProto req)
specifier|public
name|GetLinkTargetResponseProto
name|getLinkTarget
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetLinkTargetRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|String
name|result
init|=
name|server
operator|.
name|getLinkTarget
argument_list|(
name|req
operator|.
name|getPath
argument_list|()
argument_list|)
decl_stmt|;
name|GetLinkTargetResponseProto
operator|.
name|Builder
name|builder
init|=
name|GetLinkTargetResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
if|if
condition|(
name|result
operator|!=
literal|null
condition|)
block|{
name|builder
operator|.
name|setTargetPath
argument_list|(
name|result
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|updateBlockForPipeline ( RpcController controller, UpdateBlockForPipelineRequestProto req)
specifier|public
name|UpdateBlockForPipelineResponseProto
name|updateBlockForPipeline
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|UpdateBlockForPipelineRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|LocatedBlockProto
name|result
init|=
name|PBHelperClient
operator|.
name|convertLocatedBlock
argument_list|(
name|server
operator|.
name|updateBlockForPipeline
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getBlock
argument_list|()
argument_list|)
argument_list|,
name|req
operator|.
name|getClientName
argument_list|()
argument_list|)
argument_list|)
decl_stmt|;
return|return
name|UpdateBlockForPipelineResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setBlock
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|updatePipeline (RpcController controller, UpdatePipelineRequestProto req)
specifier|public
name|UpdatePipelineResponseProto
name|updatePipeline
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|UpdatePipelineRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|List
argument_list|<
name|DatanodeIDProto
argument_list|>
name|newNodes
init|=
name|req
operator|.
name|getNewNodesList
argument_list|()
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|newStorageIDs
init|=
name|req
operator|.
name|getStorageIDsList
argument_list|()
decl_stmt|;
name|server
operator|.
name|updatePipeline
argument_list|(
name|req
operator|.
name|getClientName
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getOldBlock
argument_list|()
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getNewBlock
argument_list|()
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|newNodes
operator|.
name|toArray
argument_list|(
operator|new
name|DatanodeIDProto
index|[
name|newNodes
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|)
argument_list|,
name|newStorageIDs
operator|.
name|toArray
argument_list|(
operator|new
name|String
index|[
name|newStorageIDs
operator|.
name|size
argument_list|()
index|]
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|VOID_UPDATEPIPELINE_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getDelegationToken ( RpcController controller, GetDelegationTokenRequestProto req)
specifier|public
name|GetDelegationTokenResponseProto
name|getDelegationToken
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetDelegationTokenRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|Token
argument_list|<
name|DelegationTokenIdentifier
argument_list|>
name|token
init|=
name|server
operator|.
name|getDelegationToken
argument_list|(
operator|new
name|Text
argument_list|(
name|req
operator|.
name|getRenewer
argument_list|()
argument_list|)
argument_list|)
decl_stmt|;
name|GetDelegationTokenResponseProto
operator|.
name|Builder
name|rspBuilder
init|=
name|GetDelegationTokenResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
if|if
condition|(
name|token
operator|!=
literal|null
condition|)
block|{
name|rspBuilder
operator|.
name|setToken
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|token
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|rspBuilder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|renewDelegationToken ( RpcController controller, RenewDelegationTokenRequestProto req)
specifier|public
name|RenewDelegationTokenResponseProto
name|renewDelegationToken
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RenewDelegationTokenRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|long
name|result
init|=
name|server
operator|.
name|renewDelegationToken
argument_list|(
name|PBHelperClient
operator|.
name|convertDelegationToken
argument_list|(
name|req
operator|.
name|getToken
argument_list|()
argument_list|)
argument_list|)
decl_stmt|;
return|return
name|RenewDelegationTokenResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setNewExpiryTime
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|cancelDelegationToken ( RpcController controller, CancelDelegationTokenRequestProto req)
specifier|public
name|CancelDelegationTokenResponseProto
name|cancelDelegationToken
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|CancelDelegationTokenRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|cancelDelegationToken
argument_list|(
name|PBHelperClient
operator|.
name|convertDelegationToken
argument_list|(
name|req
operator|.
name|getToken
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|VOID_CANCELDELEGATIONTOKEN_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|setBalancerBandwidth ( RpcController controller, SetBalancerBandwidthRequestProto req)
specifier|public
name|SetBalancerBandwidthResponseProto
name|setBalancerBandwidth
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetBalancerBandwidthRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setBalancerBandwidth
argument_list|(
name|req
operator|.
name|getBandwidth
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_SETBALANCERBANDWIDTH_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getDataEncryptionKey ( RpcController controller, GetDataEncryptionKeyRequestProto request)
specifier|public
name|GetDataEncryptionKeyResponseProto
name|getDataEncryptionKey
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetDataEncryptionKeyRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|GetDataEncryptionKeyResponseProto
operator|.
name|Builder
name|builder
init|=
name|GetDataEncryptionKeyResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
name|DataEncryptionKey
name|encryptionKey
init|=
name|server
operator|.
name|getDataEncryptionKey
argument_list|()
decl_stmt|;
if|if
condition|(
name|encryptionKey
operator|!=
literal|null
condition|)
block|{
name|builder
operator|.
name|setDataEncryptionKey
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|encryptionKey
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|createSnapshot (RpcController controller, CreateSnapshotRequestProto req)
specifier|public
name|CreateSnapshotResponseProto
name|createSnapshot
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|CreateSnapshotRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
specifier|final
name|CreateSnapshotResponseProto
operator|.
name|Builder
name|builder
init|=
name|CreateSnapshotResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
specifier|final
name|String
name|snapshotPath
init|=
name|server
operator|.
name|createSnapshot
argument_list|(
name|req
operator|.
name|getSnapshotRoot
argument_list|()
argument_list|,
name|req
operator|.
name|hasSnapshotName
argument_list|()
condition|?
name|req
operator|.
name|getSnapshotName
argument_list|()
else|:
literal|null
argument_list|)
decl_stmt|;
if|if
condition|(
name|snapshotPath
operator|!=
literal|null
condition|)
block|{
name|builder
operator|.
name|setSnapshotPath
argument_list|(
name|snapshotPath
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|deleteSnapshot (RpcController controller, DeleteSnapshotRequestProto req)
specifier|public
name|DeleteSnapshotResponseProto
name|deleteSnapshot
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|DeleteSnapshotRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|deleteSnapshot
argument_list|(
name|req
operator|.
name|getSnapshotRoot
argument_list|()
argument_list|,
name|req
operator|.
name|getSnapshotName
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_DELETE_SNAPSHOT_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|allowSnapshot (RpcController controller, AllowSnapshotRequestProto req)
specifier|public
name|AllowSnapshotResponseProto
name|allowSnapshot
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|AllowSnapshotRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|allowSnapshot
argument_list|(
name|req
operator|.
name|getSnapshotRoot
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_ALLOW_SNAPSHOT_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|disallowSnapshot (RpcController controller, DisallowSnapshotRequestProto req)
specifier|public
name|DisallowSnapshotResponseProto
name|disallowSnapshot
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|DisallowSnapshotRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|disallowSnapshot
argument_list|(
name|req
operator|.
name|getSnapshotRoot
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_DISALLOW_SNAPSHOT_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|renameSnapshot (RpcController controller, RenameSnapshotRequestProto request)
specifier|public
name|RenameSnapshotResponseProto
name|renameSnapshot
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RenameSnapshotRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|renameSnapshot
argument_list|(
name|request
operator|.
name|getSnapshotRoot
argument_list|()
argument_list|,
name|request
operator|.
name|getSnapshotOldName
argument_list|()
argument_list|,
name|request
operator|.
name|getSnapshotNewName
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|VOID_RENAME_SNAPSHOT_RESPONSE
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getSnapshottableDirListing ( RpcController controller, GetSnapshottableDirListingRequestProto request)
specifier|public
name|GetSnapshottableDirListingResponseProto
name|getSnapshottableDirListing
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetSnapshottableDirListingRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|SnapshottableDirectoryStatus
index|[]
name|result
init|=
name|server
operator|.
name|getSnapshottableDirListing
argument_list|()
decl_stmt|;
if|if
condition|(
name|result
operator|!=
literal|null
condition|)
block|{
return|return
name|GetSnapshottableDirListingResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setSnapshottableDirList
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
else|else
block|{
return|return
name|NULL_GET_SNAPSHOTTABLE_DIR_LISTING_RESPONSE
return|;
block|}
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getSnapshotDiffReport ( RpcController controller, GetSnapshotDiffReportRequestProto request)
specifier|public
name|GetSnapshotDiffReportResponseProto
name|getSnapshotDiffReport
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetSnapshotDiffReportRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|SnapshotDiffReport
name|report
init|=
name|server
operator|.
name|getSnapshotDiffReport
argument_list|(
name|request
operator|.
name|getSnapshotRoot
argument_list|()
argument_list|,
name|request
operator|.
name|getFromSnapshot
argument_list|()
argument_list|,
name|request
operator|.
name|getToSnapshot
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|GetSnapshotDiffReportResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setDiffReport
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|report
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|isFileClosed ( RpcController controller, IsFileClosedRequestProto request)
specifier|public
name|IsFileClosedResponseProto
name|isFileClosed
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|IsFileClosedRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|boolean
name|result
init|=
name|server
operator|.
name|isFileClosed
argument_list|(
name|request
operator|.
name|getSrc
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|IsFileClosedResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setResult
argument_list|(
name|result
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|addCacheDirective ( RpcController controller, AddCacheDirectiveRequestProto request)
specifier|public
name|AddCacheDirectiveResponseProto
name|addCacheDirective
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|AddCacheDirectiveRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|long
name|id
init|=
name|server
operator|.
name|addCacheDirective
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|request
operator|.
name|getInfo
argument_list|()
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convertCacheFlags
argument_list|(
name|request
operator|.
name|getCacheFlags
argument_list|()
argument_list|)
argument_list|)
decl_stmt|;
return|return
name|AddCacheDirectiveResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setId
argument_list|(
name|id
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|modifyCacheDirective ( RpcController controller, ModifyCacheDirectiveRequestProto request)
specifier|public
name|ModifyCacheDirectiveResponseProto
name|modifyCacheDirective
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ModifyCacheDirectiveRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|modifyCacheDirective
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|request
operator|.
name|getInfo
argument_list|()
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convertCacheFlags
argument_list|(
name|request
operator|.
name|getCacheFlags
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|ModifyCacheDirectiveResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
specifier|public
name|RemoveCacheDirectiveResponseProto
DECL|method|removeCacheDirective (RpcController controller, RemoveCacheDirectiveRequestProto request)
name|removeCacheDirective
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RemoveCacheDirectiveRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|removeCacheDirective
argument_list|(
name|request
operator|.
name|getId
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|RemoveCacheDirectiveResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|listCacheDirectives ( RpcController controller, ListCacheDirectivesRequestProto request)
specifier|public
name|ListCacheDirectivesResponseProto
name|listCacheDirectives
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ListCacheDirectivesRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|CacheDirectiveInfo
name|filter
init|=
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|request
operator|.
name|getFilter
argument_list|()
argument_list|)
decl_stmt|;
name|BatchedEntries
argument_list|<
name|CacheDirectiveEntry
argument_list|>
name|entries
init|=
name|server
operator|.
name|listCacheDirectives
argument_list|(
name|request
operator|.
name|getPrevId
argument_list|()
argument_list|,
name|filter
argument_list|)
decl_stmt|;
name|ListCacheDirectivesResponseProto
operator|.
name|Builder
name|builder
init|=
name|ListCacheDirectivesResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
name|builder
operator|.
name|setHasMore
argument_list|(
name|entries
operator|.
name|hasMore
argument_list|()
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|,
name|n
init|=
name|entries
operator|.
name|size
argument_list|()
init|;
name|i
operator|<
name|n
condition|;
name|i
operator|++
control|)
block|{
name|builder
operator|.
name|addElements
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|entries
operator|.
name|get
argument_list|(
name|i
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|addCachePool (RpcController controller, AddCachePoolRequestProto request)
specifier|public
name|AddCachePoolResponseProto
name|addCachePool
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|AddCachePoolRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|addCachePool
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|request
operator|.
name|getInfo
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|AddCachePoolResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|modifyCachePool (RpcController controller, ModifyCachePoolRequestProto request)
specifier|public
name|ModifyCachePoolResponseProto
name|modifyCachePool
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ModifyCachePoolRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|modifyCachePool
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|request
operator|.
name|getInfo
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|ModifyCachePoolResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|removeCachePool (RpcController controller, RemoveCachePoolRequestProto request)
specifier|public
name|RemoveCachePoolResponseProto
name|removeCachePool
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RemoveCachePoolRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|removeCachePool
argument_list|(
name|request
operator|.
name|getPoolName
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|RemoveCachePoolResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|listCachePools (RpcController controller, ListCachePoolsRequestProto request)
specifier|public
name|ListCachePoolsResponseProto
name|listCachePools
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ListCachePoolsRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|BatchedEntries
argument_list|<
name|CachePoolEntry
argument_list|>
name|entries
init|=
name|server
operator|.
name|listCachePools
argument_list|(
name|request
operator|.
name|getPrevPoolName
argument_list|()
argument_list|)
decl_stmt|;
name|ListCachePoolsResponseProto
operator|.
name|Builder
name|responseBuilder
init|=
name|ListCachePoolsResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
name|responseBuilder
operator|.
name|setHasMore
argument_list|(
name|entries
operator|.
name|hasMore
argument_list|()
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|,
name|n
init|=
name|entries
operator|.
name|size
argument_list|()
init|;
name|i
operator|<
name|n
condition|;
name|i
operator|++
control|)
block|{
name|responseBuilder
operator|.
name|addEntries
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|entries
operator|.
name|get
argument_list|(
name|i
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|responseBuilder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|modifyAclEntries ( RpcController controller, ModifyAclEntriesRequestProto req)
specifier|public
name|ModifyAclEntriesResponseProto
name|modifyAclEntries
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ModifyAclEntriesRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|modifyAclEntries
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convertAclEntry
argument_list|(
name|req
operator|.
name|getAclSpecList
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_MODIFYACLENTRIES_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|removeAclEntries ( RpcController controller, RemoveAclEntriesRequestProto req)
specifier|public
name|RemoveAclEntriesResponseProto
name|removeAclEntries
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RemoveAclEntriesRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|removeAclEntries
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convertAclEntry
argument_list|(
name|req
operator|.
name|getAclSpecList
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_REMOVEACLENTRIES_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|removeDefaultAcl ( RpcController controller, RemoveDefaultAclRequestProto req)
specifier|public
name|RemoveDefaultAclResponseProto
name|removeDefaultAcl
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RemoveDefaultAclRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|removeDefaultAcl
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_REMOVEDEFAULTACL_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|removeAcl (RpcController controller, RemoveAclRequestProto req)
specifier|public
name|RemoveAclResponseProto
name|removeAcl
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RemoveAclRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|removeAcl
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_REMOVEACL_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|setAcl (RpcController controller, SetAclRequestProto req)
specifier|public
name|SetAclResponseProto
name|setAcl
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetAclRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setAcl
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convertAclEntry
argument_list|(
name|req
operator|.
name|getAclSpecList
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_SETACL_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|getAclStatus (RpcController controller, GetAclStatusRequestProto req)
specifier|public
name|GetAclStatusResponseProto
name|getAclStatus
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetAclStatusRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
return|return
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|server
operator|.
name|getAclStatus
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|)
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|createEncryptionZone ( RpcController controller, CreateEncryptionZoneRequestProto req)
specifier|public
name|CreateEncryptionZoneResponseProto
name|createEncryptionZone
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|CreateEncryptionZoneRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|createEncryptionZone
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getKeyName
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|CreateEncryptionZoneResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getEZForPath ( RpcController controller, GetEZForPathRequestProto req)
specifier|public
name|GetEZForPathResponseProto
name|getEZForPath
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetEZForPathRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|GetEZForPathResponseProto
operator|.
name|Builder
name|builder
init|=
name|GetEZForPathResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
specifier|final
name|EncryptionZone
name|ret
init|=
name|server
operator|.
name|getEZForPath
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|)
decl_stmt|;
if|if
condition|(
name|ret
operator|!=
literal|null
condition|)
block|{
name|builder
operator|.
name|setZone
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|ret
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|listEncryptionZones ( RpcController controller, ListEncryptionZonesRequestProto req)
specifier|public
name|ListEncryptionZonesResponseProto
name|listEncryptionZones
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ListEncryptionZonesRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|BatchedEntries
argument_list|<
name|EncryptionZone
argument_list|>
name|entries
init|=
name|server
operator|.
name|listEncryptionZones
argument_list|(
name|req
operator|.
name|getId
argument_list|()
argument_list|)
decl_stmt|;
name|ListEncryptionZonesResponseProto
operator|.
name|Builder
name|builder
init|=
name|ListEncryptionZonesResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
name|builder
operator|.
name|setHasMore
argument_list|(
name|entries
operator|.
name|hasMore
argument_list|()
argument_list|)
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|entries
operator|.
name|size
argument_list|()
condition|;
name|i
operator|++
control|)
block|{
name|builder
operator|.
name|addZones
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|entries
operator|.
name|get
argument_list|(
name|i
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|setErasureCodingPolicy ( RpcController controller, SetErasureCodingPolicyRequestProto req)
specifier|public
name|SetErasureCodingPolicyResponseProto
name|setErasureCodingPolicy
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetErasureCodingPolicyRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setErasureCodingPolicy
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|req
operator|.
name|getEcPolicyName
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|SetErasureCodingPolicyResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|unsetErasureCodingPolicy ( RpcController controller, UnsetErasureCodingPolicyRequestProto req)
specifier|public
name|UnsetErasureCodingPolicyResponseProto
name|unsetErasureCodingPolicy
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|UnsetErasureCodingPolicyRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|unsetErasureCodingPolicy
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|)
expr_stmt|;
return|return
name|UnsetErasureCodingPolicyResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|setXAttr (RpcController controller, SetXAttrRequestProto req)
specifier|public
name|SetXAttrResponseProto
name|setXAttr
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetXAttrRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setXAttr
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convertXAttr
argument_list|(
name|req
operator|.
name|getXAttr
argument_list|()
argument_list|)
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getFlag
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_SETXATTR_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|getXAttrs (RpcController controller, GetXAttrsRequestProto req)
specifier|public
name|GetXAttrsResponseProto
name|getXAttrs
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetXAttrsRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
return|return
name|PBHelperClient
operator|.
name|convertXAttrsResponse
argument_list|(
name|server
operator|.
name|getXAttrs
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convertXAttrs
argument_list|(
name|req
operator|.
name|getXAttrsList
argument_list|()
argument_list|)
argument_list|)
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|listXAttrs (RpcController controller, ListXAttrsRequestProto req)
specifier|public
name|ListXAttrsResponseProto
name|listXAttrs
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|ListXAttrsRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
return|return
name|PBHelperClient
operator|.
name|convertListXAttrsResponse
argument_list|(
name|server
operator|.
name|listXAttrs
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|)
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|removeXAttr (RpcController controller, RemoveXAttrRequestProto req)
specifier|public
name|RemoveXAttrResponseProto
name|removeXAttr
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|RemoveXAttrRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|removeXAttr
argument_list|(
name|req
operator|.
name|getSrc
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convertXAttr
argument_list|(
name|req
operator|.
name|getXAttr
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_REMOVEXATTR_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|checkAccess (RpcController controller, CheckAccessRequestProto req)
specifier|public
name|CheckAccessResponseProto
name|checkAccess
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|CheckAccessRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|checkAccess
argument_list|(
name|req
operator|.
name|getPath
argument_list|()
argument_list|,
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|req
operator|.
name|getMode
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_CHECKACCESS_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|setStoragePolicy ( RpcController controller, SetStoragePolicyRequestProto request)
specifier|public
name|SetStoragePolicyResponseProto
name|setStoragePolicy
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|SetStoragePolicyRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|setStoragePolicy
argument_list|(
name|request
operator|.
name|getSrc
argument_list|()
argument_list|,
name|request
operator|.
name|getPolicyName
argument_list|()
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_SET_STORAGE_POLICY_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|unsetStoragePolicy ( RpcController controller, UnsetStoragePolicyRequestProto request)
specifier|public
name|UnsetStoragePolicyResponseProto
name|unsetStoragePolicy
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|UnsetStoragePolicyRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|server
operator|.
name|unsetStoragePolicy
argument_list|(
name|request
operator|.
name|getSrc
argument_list|()
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
return|return
name|VOID_UNSET_STORAGE_POLICY_RESPONSE
return|;
block|}
annotation|@
name|Override
DECL|method|getStoragePolicy ( RpcController controller, GetStoragePolicyRequestProto request)
specifier|public
name|GetStoragePolicyResponseProto
name|getStoragePolicy
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetStoragePolicyRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|BlockStoragePolicyProto
name|policy
init|=
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|server
operator|.
name|getStoragePolicy
argument_list|(
name|request
operator|.
name|getPath
argument_list|()
argument_list|)
argument_list|)
decl_stmt|;
return|return
name|GetStoragePolicyResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setStoragePolicy
argument_list|(
name|policy
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getStoragePolicies ( RpcController controller, GetStoragePoliciesRequestProto request)
specifier|public
name|GetStoragePoliciesResponseProto
name|getStoragePolicies
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetStoragePoliciesRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|BlockStoragePolicy
index|[]
name|policies
init|=
name|server
operator|.
name|getStoragePolicies
argument_list|()
decl_stmt|;
name|GetStoragePoliciesResponseProto
operator|.
name|Builder
name|builder
init|=
name|GetStoragePoliciesResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
if|if
condition|(
name|policies
operator|==
literal|null
condition|)
block|{
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
for|for
control|(
name|BlockStoragePolicy
name|policy
range|:
name|policies
control|)
block|{
name|builder
operator|.
name|addPolicies
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|policy
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
DECL|method|getCurrentEditLogTxid (RpcController controller, GetCurrentEditLogTxidRequestProto req)
specifier|public
name|GetCurrentEditLogTxidResponseProto
name|getCurrentEditLogTxid
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetCurrentEditLogTxidRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
return|return
name|GetCurrentEditLogTxidResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setTxid
argument_list|(
name|server
operator|.
name|getCurrentEditLogTxid
argument_list|()
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getEditsFromTxid (RpcController controller, GetEditsFromTxidRequestProto req)
specifier|public
name|GetEditsFromTxidResponseProto
name|getEditsFromTxid
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetEditsFromTxidRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
return|return
name|PBHelperClient
operator|.
name|convertEditsResponse
argument_list|(
name|server
operator|.
name|getEditsFromTxid
argument_list|(
name|req
operator|.
name|getTxid
argument_list|()
argument_list|)
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getErasureCodingPolicies (RpcController controller, GetErasureCodingPoliciesRequestProto request)
specifier|public
name|GetErasureCodingPoliciesResponseProto
name|getErasureCodingPolicies
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetErasureCodingPoliciesRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|ErasureCodingPolicy
index|[]
name|ecPolicies
init|=
name|server
operator|.
name|getErasureCodingPolicies
argument_list|()
decl_stmt|;
name|GetErasureCodingPoliciesResponseProto
operator|.
name|Builder
name|resBuilder
init|=
name|GetErasureCodingPoliciesResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
for|for
control|(
name|ErasureCodingPolicy
name|ecPolicy
range|:
name|ecPolicies
control|)
block|{
name|resBuilder
operator|.
name|addEcPolicies
argument_list|(
name|PBHelperClient
operator|.
name|convertErasureCodingPolicy
argument_list|(
name|ecPolicy
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|resBuilder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getErasureCodingCodecs ( RpcController controller, GetErasureCodingCodecsRequestProto request)
specifier|public
name|GetErasureCodingCodecsResponseProto
name|getErasureCodingCodecs
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetErasureCodingCodecsRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|HashMap
argument_list|<
name|String
argument_list|,
name|String
argument_list|>
name|codecs
init|=
name|server
operator|.
name|getErasureCodingCodecs
argument_list|()
decl_stmt|;
name|GetErasureCodingCodecsResponseProto
operator|.
name|Builder
name|resBuilder
init|=
name|GetErasureCodingCodecsResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
for|for
control|(
name|Map
operator|.
name|Entry
argument_list|<
name|String
argument_list|,
name|String
argument_list|>
name|codec
range|:
name|codecs
operator|.
name|entrySet
argument_list|()
control|)
block|{
name|resBuilder
operator|.
name|addCodec
argument_list|(
name|PBHelperClient
operator|.
name|convertErasureCodingCodec
argument_list|(
name|codec
operator|.
name|getKey
argument_list|()
argument_list|,
name|codec
operator|.
name|getValue
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|resBuilder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|addErasureCodingPolicies ( RpcController controller, AddErasureCodingPoliciesRequestProto request)
specifier|public
name|AddErasureCodingPoliciesResponseProto
name|addErasureCodingPolicies
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|AddErasureCodingPoliciesRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|ErasureCodingPolicy
index|[]
name|policies
init|=
name|request
operator|.
name|getEcPoliciesList
argument_list|()
operator|.
name|stream
argument_list|()
operator|.
name|map
argument_list|(
name|PBHelperClient
operator|::
name|convertErasureCodingPolicy
argument_list|)
operator|.
name|toArray
argument_list|(
name|ErasureCodingPolicy
index|[]
operator|::
operator|new
argument_list|)
decl_stmt|;
name|AddECPolicyResponse
index|[]
name|result
init|=
name|server
operator|.
name|addErasureCodingPolicies
argument_list|(
name|policies
argument_list|)
decl_stmt|;
name|List
argument_list|<
name|HdfsProtos
operator|.
name|AddECPolicyResponseProto
argument_list|>
name|responseProtos
init|=
name|Arrays
operator|.
name|stream
argument_list|(
name|result
argument_list|)
operator|.
name|map
argument_list|(
name|PBHelperClient
operator|::
name|convertAddECPolicyResponse
argument_list|)
operator|.
name|collect
argument_list|(
name|Collectors
operator|.
name|toList
argument_list|()
argument_list|)
decl_stmt|;
name|AddErasureCodingPoliciesResponseProto
name|response
init|=
name|AddErasureCodingPoliciesResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|addAllResponses
argument_list|(
name|responseProtos
argument_list|)
operator|.
name|build
argument_list|()
decl_stmt|;
return|return
name|response
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getErasureCodingPolicy (RpcController controller, GetErasureCodingPolicyRequestProto request)
specifier|public
name|GetErasureCodingPolicyResponseProto
name|getErasureCodingPolicy
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetErasureCodingPolicyRequestProto
name|request
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|ErasureCodingPolicy
name|ecPolicy
init|=
name|server
operator|.
name|getErasureCodingPolicy
argument_list|(
name|request
operator|.
name|getSrc
argument_list|()
argument_list|)
decl_stmt|;
name|GetErasureCodingPolicyResponseProto
operator|.
name|Builder
name|builder
init|=
name|GetErasureCodingPolicyResponseProto
operator|.
name|newBuilder
argument_list|()
decl_stmt|;
if|if
condition|(
name|ecPolicy
operator|!=
literal|null
condition|)
block|{
name|builder
operator|.
name|setEcPolicy
argument_list|(
name|PBHelperClient
operator|.
name|convertErasureCodingPolicy
argument_list|(
name|ecPolicy
argument_list|)
argument_list|)
expr_stmt|;
block|}
return|return
name|builder
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
annotation|@
name|Override
DECL|method|getQuotaUsage ( RpcController controller, GetQuotaUsageRequestProto req)
specifier|public
name|GetQuotaUsageResponseProto
name|getQuotaUsage
parameter_list|(
name|RpcController
name|controller
parameter_list|,
name|GetQuotaUsageRequestProto
name|req
parameter_list|)
throws|throws
name|ServiceException
block|{
try|try
block|{
name|QuotaUsage
name|result
init|=
name|server
operator|.
name|getQuotaUsage
argument_list|(
name|req
operator|.
name|getPath
argument_list|()
argument_list|)
decl_stmt|;
return|return
name|GetQuotaUsageResponseProto
operator|.
name|newBuilder
argument_list|()
operator|.
name|setUsage
argument_list|(
name|PBHelperClient
operator|.
name|convert
argument_list|(
name|result
argument_list|)
argument_list|)
operator|.
name|build
argument_list|()
return|;
block|}
catch|catch
parameter_list|(
name|IOException
name|e
parameter_list|)
block|{
throw|throw
operator|new
name|ServiceException
argument_list|(
name|e
argument_list|)
throw|;
block|}
block|}
block|}
end_class

end_unit

