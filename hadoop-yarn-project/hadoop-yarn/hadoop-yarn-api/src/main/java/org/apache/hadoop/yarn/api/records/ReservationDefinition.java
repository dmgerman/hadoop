begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_comment
comment|/**  * Licensed to the Apache Software Foundation (ASF) under one  * or more contributor license agreements.  See the NOTICE file  * distributed with this work for additional information  * regarding copyright ownership.  The ASF licenses this file  * to you under the Apache License, Version 2.0 (the  * "License"); you may not use this file except in compliance  * with the License.  You may obtain a copy of the License at  *  *     http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing, software  * distributed under the License is distributed on an "AS IS" BASIS,  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  * See the License for the specific language governing permissions and  * limitations under the License.  */
end_comment

begin_package
DECL|package|org.apache.hadoop.yarn.api.records
package|package
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|yarn
operator|.
name|api
operator|.
name|records
package|;
end_package

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|classification
operator|.
name|InterfaceAudience
operator|.
name|Public
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|classification
operator|.
name|InterfaceStability
operator|.
name|Unstable
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|hadoop
operator|.
name|yarn
operator|.
name|util
operator|.
name|Records
import|;
end_import

begin_comment
comment|/**  * {@link ReservationDefinition} captures the set of resource and time  * constraints the user cares about regarding a reservation.  *   * @see ResourceRequest  *   */
end_comment

begin_class
annotation|@
name|Public
annotation|@
name|Unstable
DECL|class|ReservationDefinition
specifier|public
specifier|abstract
class|class
name|ReservationDefinition
block|{
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|newInstance (long arrival, long deadline, ReservationRequests reservationRequests, String name, String recurrenceExpression, Priority priority)
specifier|public
specifier|static
name|ReservationDefinition
name|newInstance
parameter_list|(
name|long
name|arrival
parameter_list|,
name|long
name|deadline
parameter_list|,
name|ReservationRequests
name|reservationRequests
parameter_list|,
name|String
name|name
parameter_list|,
name|String
name|recurrenceExpression
parameter_list|,
name|Priority
name|priority
parameter_list|)
block|{
name|ReservationDefinition
name|rDefinition
init|=
name|Records
operator|.
name|newRecord
argument_list|(
name|ReservationDefinition
operator|.
name|class
argument_list|)
decl_stmt|;
name|rDefinition
operator|.
name|setArrival
argument_list|(
name|arrival
argument_list|)
expr_stmt|;
name|rDefinition
operator|.
name|setDeadline
argument_list|(
name|deadline
argument_list|)
expr_stmt|;
name|rDefinition
operator|.
name|setReservationRequests
argument_list|(
name|reservationRequests
argument_list|)
expr_stmt|;
name|rDefinition
operator|.
name|setReservationName
argument_list|(
name|name
argument_list|)
expr_stmt|;
name|rDefinition
operator|.
name|setRecurrenceExpression
argument_list|(
name|recurrenceExpression
argument_list|)
expr_stmt|;
name|rDefinition
operator|.
name|setPriority
argument_list|(
name|priority
argument_list|)
expr_stmt|;
return|return
name|rDefinition
return|;
block|}
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|newInstance (long arrival, long deadline, ReservationRequests reservationRequests, String name)
specifier|public
specifier|static
name|ReservationDefinition
name|newInstance
parameter_list|(
name|long
name|arrival
parameter_list|,
name|long
name|deadline
parameter_list|,
name|ReservationRequests
name|reservationRequests
parameter_list|,
name|String
name|name
parameter_list|)
block|{
name|ReservationDefinition
name|rDefinition
init|=
name|newInstance
argument_list|(
name|arrival
argument_list|,
name|deadline
argument_list|,
name|reservationRequests
argument_list|,
name|name
argument_list|,
literal|"0"
argument_list|,
name|Priority
operator|.
name|UNDEFINED
argument_list|)
decl_stmt|;
return|return
name|rDefinition
return|;
block|}
comment|/**    * Get the arrival time or the earliest time from which the resource(s) can be    * allocated. Time expressed as UTC.    *     * @return the earliest valid time for this reservation    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|getArrival ()
specifier|public
specifier|abstract
name|long
name|getArrival
parameter_list|()
function_decl|;
comment|/**    * Set the arrival time or the earliest time from which the resource(s) can be    * allocated. Time expressed as UTC.    *     * @param earliestStartTime the earliest valid time for this reservation    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|setArrival (long earliestStartTime)
specifier|public
specifier|abstract
name|void
name|setArrival
parameter_list|(
name|long
name|earliestStartTime
parameter_list|)
function_decl|;
comment|/**    * Get the deadline or the latest time by when the resource(s) must be    * allocated. Time expressed as UTC.    *     * @return the deadline or the latest time by when the resource(s) must be    *         allocated    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|getDeadline ()
specifier|public
specifier|abstract
name|long
name|getDeadline
parameter_list|()
function_decl|;
comment|/**    * Set the deadline or the latest time by when the resource(s) must be    * allocated. Time expressed as UTC.    *     * @param latestEndTime the deadline or the latest time by when the    *          resource(s) should be allocated    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|setDeadline (long latestEndTime)
specifier|public
specifier|abstract
name|void
name|setDeadline
parameter_list|(
name|long
name|latestEndTime
parameter_list|)
function_decl|;
comment|/**    * Get the list of {@link ReservationRequests} representing the resources    * required by the application    *     * @return the list of {@link ReservationRequests}    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|getReservationRequests ()
specifier|public
specifier|abstract
name|ReservationRequests
name|getReservationRequests
parameter_list|()
function_decl|;
comment|/**    * Set the list of {@link ReservationRequests} representing the resources    * required by the application    *     * @param reservationRequests the list of {@link ReservationRequests}    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|setReservationRequests ( ReservationRequests reservationRequests)
specifier|public
specifier|abstract
name|void
name|setReservationRequests
parameter_list|(
name|ReservationRequests
name|reservationRequests
parameter_list|)
function_decl|;
comment|/**    * Get the name for this reservation. The name need-not be unique, and it is    * just a mnemonic for the user (akin to job names). Accepted reservations are    * uniquely identified by a system-generated ReservationId.    *     * @return string representing the name of the corresponding reserved resource    *         allocation in the scheduler    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|getReservationName ()
specifier|public
specifier|abstract
name|String
name|getReservationName
parameter_list|()
function_decl|;
comment|/**    * Set the name for this reservation. The name need-not be unique, and it is    * just a mnemonic for the user (akin to job names). Accepted reservations are    * uniquely identified by a system-generated ReservationId.    *     * @param name representing the name of the corresponding reserved resource    *          allocation in the scheduler    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|setReservationName (String name)
specifier|public
specifier|abstract
name|void
name|setReservationName
parameter_list|(
name|String
name|name
parameter_list|)
function_decl|;
comment|/**    * Get the recurrence of this reservation representing the time period of    * the periodic job. Currently, only long values are supported. Later,    * support for regular expressions denoting arbitrary recurrence patterns    * (e.g., every Tuesday and Thursday) will be added.    * Recurrence is represented in milliseconds for periodic jobs.    * Recurrence is 0 for non-periodic jobs. Periodic jobs are valid until they    * are explicitly cancelled and have higher priority than non-periodic jobs    * (during initial placement and replanning). Periodic job allocations are    * consistent across runs (flexibility in allocation is leveraged only during    * initial placement, allocations remain consistent thereafter). Note that    * as a long, the recurrence expression must be greater than the duration of    * the reservation (deadline - arrival). Also note that the configured max    * period must be divisible by the recurrence expression if expressed as a    * long.    *    * @return recurrence of this reservation    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|getRecurrenceExpression ()
specifier|public
specifier|abstract
name|String
name|getRecurrenceExpression
parameter_list|()
function_decl|;
comment|/**    * Set the recurrence of this reservation representing the time period of    * the periodic job. Currently, only long values are supported. Later,    * support for regular expressions denoting arbitrary recurrence patterns    * (e.g., every Tuesday and Thursday) will be added.    * Recurrence is represented in milliseconds for periodic jobs.    * Recurrence is 0 for non-periodic jobs. Periodic jobs are valid until they    * are explicitly cancelled and have higher priority than non-periodic jobs    * (during initial placement and replanning). Periodic job allocations are    * consistent across runs (flexibility in allocation is leveraged only during    * initial placement, allocations remain consistent thereafter). Note that    * as a long, the recurrence expression must be greater than the duration of    * the reservation (deadline - arrival). Also note that the configured max    * period must be divisible by the recurrence expression if expressed as a    * long.    *    * @param recurrenceExpression recurrence interval of this reservation    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|setRecurrenceExpression (String recurrenceExpression)
specifier|public
specifier|abstract
name|void
name|setRecurrenceExpression
parameter_list|(
name|String
name|recurrenceExpression
parameter_list|)
function_decl|;
comment|/**    * Get the priority for this reservation. A lower number for priority    * indicates a higher priority reservation. Recurring reservations are    * always higher priority than non-recurring reservations. Priority for    * non-recurring reservations are only compared with non-recurring    * reservations. Likewise for recurring reservations.    *    * @return int representing the priority of the reserved resource    *         allocation in the scheduler    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|getPriority ()
specifier|public
specifier|abstract
name|Priority
name|getPriority
parameter_list|()
function_decl|;
comment|/**    * Set the priority for this reservation. A lower number for priority    * indicates a higher priority reservation. Recurring reservations are    * always higher priority than non-recurring reservations. Priority for    * non-recurring reservations are only compared with non-recurring    * reservations. Likewise for recurring reservations.    *    * @param priority representing the priority of the reserved resource    *          allocation in the scheduler    */
annotation|@
name|Public
annotation|@
name|Unstable
DECL|method|setPriority (Priority priority)
specifier|public
specifier|abstract
name|void
name|setPriority
parameter_list|(
name|Priority
name|priority
parameter_list|)
function_decl|;
block|}
end_class

end_unit

